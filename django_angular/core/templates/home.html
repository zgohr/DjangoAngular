{% load angularjs %}
<!doctype html>
<html ng-app>
    <head>
        <script src="{{ STATIC_URL }}angular/js/angular-1.0.1.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script src="{{ STATIC_URL }}core/js/app.js"></script>

        <link rel="stylesheet" href="{{ STATIC_URL }}core/css/app.css">
        <link rel="stylesheet" href="{{ STATIC_URL }}bootstrap/css/bootstrap.min.css">
        <link rel="stylesheet" href="{{ STATIC_URL }}bootstrap/css/bootstrap-responsive.min.css">
    </head>

    <body>
        <div>
            <label>Name:</label>
            <input type="text" ng-model="yourName" placeholder="Enter a name here">
            <hr>

            <div class="row" ng-controller="TraderCtrl">
                <div class="span8 offset1">
                    <h1>Hello {% ng yourName %}!</h1>
                    <form class="form form-inline" ng-submit="addOrder()">
                        <input class="input-small" type="text" ng-model="orderItem" placeholder="item">
                        <input class="input-small" type="number" ng-model="orderAmount" placeholder="amount">
                        <input class="input-small" type="number" ng-model="orderQuantity" placeholder="quantity">
                        <input class="btn" type="submit" value="Place Order">
                    </form>
                    <table class="table table-striped table-bordered">
                        <thead>
                            <tr>
                                <td>Item</td>
                                <td>Amount</td>
                                <td>Quantity</td>
                                <td>Purchase Value</td>
                                <td>Fills</td>
                                <td>Inventory Value</td>
                                <td>Actions</td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="order in orders" class="{% ng status(order) %}">
                                <td>{% ng order.item %}</td>
                                <td>{% ng order.amount | currency %}</td>
                                <td>{% ng order.quantity %}</td>
                                <td>{% ng order.value | currency %}</td>
                                <td>
                                    <input class="input-mini" type="number" ng-model="order.fills" ng-change="fills(order)">
                                </td>
                                <td>{% ng order.inventory_value | currency %}</td>
                                <td>
                                    <button ng-click="deleteOrder(order)" class="btn btn-danger btn-mini">Delete</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </body>
</html>
